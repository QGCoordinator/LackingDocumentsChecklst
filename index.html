<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents Submitted Checklist</title>
    <style>
        @page {
            size: 5.5in 8.5in; /* Portrait orientation */
            margin: 0.15in;
        }
        body {
            font-family: Arial, sans-serif;
            width: 100%;
            margin: 0 auto;
            padding: 0;
            font-size: 10pt;
            line-height: 1.3;
            color: #000;
            background-color: #fff;
            /* Removed overflow: hidden to allow scrolling */
        }
        #capture-container {
            width: 5.2in;
            min-height: 8.2in;
            margin: 0 auto;
            padding: 0.1in;
            box-sizing: border-box;
        }
        .header {
            text-align: center;
            margin-bottom: 0.1in;
        }
        h1 {
            font-size: 12pt;
            font-weight: bold;
            margin: 0 0 0.05in 0;
            color: #000;
        }
        h2 {
            font-size: 11pt;
            margin: 0;
            background-color: #f0f0f0;
            padding: 0.05in;
            color: #000;
        }
        .name-input {
            margin: 0.1in 0;
            text-align: center;
        }
        input[type="text"] {
            width: 4.5in;
            padding: 0.05in;
            font-size: 10pt;
            border: 1px solid #000;
            text-align: center;
            color: #000;
            background-color: #fff;
        }
        .borrower-section {
            border: 1px solid #000;
            padding: 0.1in;
            border-radius: 0.05in;
            margin-bottom: 0.1in;
            background-color: #fff;
        }
        select {
            width: 100%;
            margin-bottom: 0.05in;
            font-size: 10pt;
            padding: 0.05in;
            border: 1px solid #000;
            color: #000;
            background-color: #fff;
        }
        ul {
            list-style-type: none;
            padding-left: 0;
            margin: 0.1in 0;
        }
        li {
            margin-bottom: 0.08in;
            display: flex;
            align-items: flex-start;
            font-size: 9.5pt;
            color: #000;
        }
        input[type="checkbox"] {
            margin-right: 0.08in;
            transform: scale(1.1);
            margin-top: 0.02in;
            accent-color: #000;
        }
        .note {
            font-style: italic;
            font-size: 8.5pt;
            margin-left: 0.05in;
            color: #555;
        }
        .co-borrower-check {
            text-align: center;
            margin: 0.1in 0;
            padding: 0.08in;
            background-color: #f5f5f5;
            font-size: 10pt;
            border: 1px solid #ddd;
        }
        strong {
            font-size: 10.5pt;
            color: #000;
        }
        .others-section {
            margin-top: 0.15in;
            border-top: 1px dashed #000;
            padding-top: 0.1in;
        }
        .others-input {
            display: flex;
            align-items: center;
            margin-top: 0.08in;
        }
        .others-input input {
            flex-grow: 1;
            padding: 0.05in;
            font-size: 9pt;
            border: 1px solid #000;
            margin-left: 0.08in;
            color: #000;
            background-color: #fff;
        }
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 0.2in;
            margin-bottom: 0.2in;
        }
        button {
            padding: 0.12in 0.25in;
            font-size: 10pt;
            cursor: pointer;
            background-color: #f0f0f0;
            border: 1px solid #000;
            border-radius: 0.1in;
            color: #000;
        }
        button:hover {
            background-color: #e0e0e0;
        }
        @media print {
            body {
                width: 5.2in;
                height: auto;
                padding: 0;
                font-size: 10pt;
            }
            #capture-container {
                height: auto;
                min-height: 8.2in;
            }
            input[type="text"] {
                border: none;
                border-bottom: 1px solid #000;
                padding: 0 0 0.02in 0;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            select {
                border: none;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                padding: 0;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .borrower-section {
                border: 1px solid #000;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .others-section {
                border-top: 1px dashed #000;
            }
            .others-input input {
                border: none;
                border-bottom: 1px solid #000;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .action-buttons {
                display: none;
            }
            input[type="checkbox"] {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
    </style>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div id="capture-container">
        <div class="header">
            <h1>LACKING DOCUMENTS CHECKLIST</h1>
            <h2>QUINTILLA GROUP - DIRECT HDMF</h2>
        </div>

        <div class="name-input">
            <input type="text" id="clientName" placeholder="Client Name">
        </div>

        <div class="borrower-section" id="principalSection">
            <div><strong>Principal Borrower:</strong></div>
            <label>Employment Status:
                <select id="principalEmployment" onchange="updateRequirements()">
                    <option value="local-private">Locally Employed (Private)</option>
                    <option value="local-gov">Locally Employed (Government)</option>
                    <option value="ofw">OFW (Land-Based)</option>
                    <option value="seafarer">Seafarer</option>
                    <option value="self-employed">Self Employed</option>
                </select>
            </label>
            <div id="principalRequirements"></div>
            
            <div class="others-section">
                <div><strong>Other Requirements:</strong></div>
                <div class="others-input">
                    <input type="checkbox" id="principalOtherCheck1">
                    <input type="text" id="principalOther1" placeholder="Add other requirement">
                </div>
                <div class="others-input">
                    <input type="checkbox" id="principalOtherCheck2">
                    <input type="text" id="principalOther2" placeholder="Add other requirement">
                </div>
                <div class="others-input">
                    <input type="checkbox" id="principalOtherCheck3">
                    <input type="text" id="principalOther3" placeholder="Add other requirement">
                </div>
            </div>
        </div>

        <div class="co-borrower-check">
            <label><input type="checkbox" id="needsCoBorrower" onchange="toggleCoBorrower()"> Needs Co-borrower?</label>
        </div>

        <div id="coBorrowerSection" class="borrower-section" style="display:none;">
            <div><strong>Co-Borrower:</strong></div>
            <label>Employment Status:
                <select id="coBorrowerEmployment" onchange="updateRequirements()">
                    <option value="local-private">Locally Employed (Private)</option>
                    <option value="local-gov">Locally Employed (Government)</option>
                    <option value="ofw">OFW (Land-Based)</option>
                    <option value="seafarer">Seafarer</option>
                    <option value="self-employed">Self Employed</option>
                </select>
            </label>
            <div id="coBorrowerRequirements"></div>
            
            <div class="others-section">
                <div><strong>Other Requirements:</strong></div>
                <div class="others-input">
                    <input type="checkbox" id="coBorrowerOtherCheck1">
                    <input type="text" id="coBorrowerOther1" placeholder="Add other requirement">
                </div>
                <div class="others-input">
                    <input type="checkbox" id="coBorrowerOtherCheck2">
                    <input type="text" id="coBorrowerOther2" placeholder="Add other requirement">
                </div>
                <div class="others-input">
                    <input type="checkbox" id="coBorrowerOtherCheck3">
                    <input type="text" id="coBorrowerOther3" placeholder="Add other requirement">
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button onclick="window.print()">Print Checklist</button>
            <button onclick="downloadAsJpeg()">Download as JPEG</button>
        </div>
    </div>

    <script>
        const requirements = {
            "local-private": [
                "Member's Data Form (MDF)",
                "Financial Literacy (Tuesday 9:00 AM, Thursday 2:00 PM, Saturday 9:00 AM)",
                "1 Primary ID (3 signatures)",
                "Spouse ID (If Married)",
                "PSA Birth Certificate",
                "PSA Marriage Cert",
                "8 pcs 1x1 Picture",
                "Certificate of Employment with Itemized Compensation or Three Months Payslips",
                "ITR (If salary ≥ 30k)",
                "MSVS (Membership Status Verification Slip)",
                "BVS (Borrower's Verification Sheet)",
                "Verified TIN",
                "Employer's Business Permit",
                "Post-dated checks"
            ],
            "local-gov": [
                "Member's Data Form (MDF)",
                "Financial Literacy (Tuesday 9:00 AM, Thursday 2:00 PM, Saturday 9:00 AM)",
                "1 Primary ID (3 signatures)",
                "Spouse ID (If Married)",
                "PSA Birth Certificate",
                "PSA Marriage Cert",
                "8 pcs 1x1 Picture",
                "Certificate of Employment with Itemized Compensation",
                "Three Months Payslips",
                "MSVS (Membership Status Verification Slip)",
                "BVS (Borrower's Verification Sheet)",
                "Verified TIN",
                "Post-dated checks"
            ],
            ofw: [
                "Member's Data Form (MDF)",
                "Financial Literacy (Tuesday 9:00 AM, Thursday 2:00 PM, Saturday 9:00 AM)",
                "Passport (3 signatures)",
                "AIF/Spouse ID",
                "PSA Birth Certificate",
                "PSA Marriage Cert",
                "8 pcs 1x1 Pictures",
                "Employment Contract",
                "Work Permit",
                "MSVS (Membership Status Verification Slip)",
                "BVS (Borrower's Verification Sheet)",
                "Verified TIN",
                "Special Power of Attorney",
                "Post-dated checks"
            ],
            seafarer: [
                "Member's Data Form (MDF)",
                "Financial Literacy (Tuesday 9:00 AM, Thursday 2:00 PM, Saturday 9:00 AM)",
                "Passport (3 signatures)",
                "Seaman's book (3 sig)",
                "AIF/Spouse ID",
                "PSA Birth Certificate",
                "PSA Marriage Cert",
                "8 pcs 1x1 Pictures",
                "Employment Contract",
                "Embarkation/Disembarkation Document",
                "POEA Work Related Documents",
                "MSVS (Membership Status Verification Slip)",
                "BVS (Borrower's Verification Sheet)",
                "Verified TIN",
                "Special Power of Attorney",
                "Post-dated checks"
            ],
            "self-employed": [
                "Member's Data Form (MDF)",
                "Financial Literacy (Tuesday 9:00 AM, Thursday 2:00 PM, Saturday 9:00 AM)",
                "1 Primary ID (3 signatures)",
                "Spouse ID (If Married)",
                "PSA Birth Certificate",
                "PSA Marriage Cert",
                "8 pcs 1x1 Picture",
                "Business Permit",
                "Cert of Registration",
                "DTI",
                "Latest ITR",
                "Audited FS (CPA)",
                "1yr Bank Statement",
                "Business Photo",
                "MSVS (Membership Status Verification Slip)",
                "BVS (Borrower's Verification Sheet)",
                "Verified TIN",
                "Post-dated checks"
            ]
        };

        function toggleCoBorrower() {
            const coBorrowerSection = document.getElementById('coBorrowerSection');
            coBorrowerSection.style.display = document.getElementById('needsCoBorrower').checked ? 'block' : 'none';
            updateRequirements();
        }

        function updateRequirements() {
            document.getElementById('principalRequirements').innerHTML = generateChecklist(
                requirements[document.getElementById('principalEmployment').value]
            );
            
            if (document.getElementById('needsCoBorrower').checked) {
                document.getElementById('coBorrowerRequirements').innerHTML = generateChecklist(
                    requirements[document.getElementById('coBorrowerEmployment').value]
                );
            }
        }

        function generateChecklist(items) {
            return '<ul>' + items.map(item => {
                const noteIndex = item.indexOf('(');
                const mainText = noteIndex > -1 ? item.substring(0, noteIndex) : item;
                const note = noteIndex > -1 ? item.substring(noteIndex) : '';
                
                return `<li><input type="checkbox"> ${mainText}${
                    note ? `<span class="note">${note}</span>` : ''
                }</li>`;
            }).join('') + '</ul>';
        }

        function downloadAsJpeg() {
            // Hide action buttons before capturing
            const buttons = document.querySelector('.action-buttons');
            buttons.style.display = 'none';
            
            // Capture the specific container
            html2canvas(document.getElementById('capture-container'), {
                scale: 2,
                logging: false,
                useCORS: true,
                scrollX: 0,
                scrollY: 0,
                backgroundColor: '#ffffff'
            }).then(canvas => {
                // Show buttons again
                buttons.style.display = 'flex';
                
                // Create download link
                const link = document.createElement('a');
                const clientName = document.getElementById('clientName').value || 'checklist';
                link.download = `${clientName}_document_checklist.jpg`;
                link.href = canvas.toDataURL('image/jpeg', 0.9);
                link.click();
            });
        }

        window.onload = function() {
            updateRequirements();
            if (window.location.href.indexOf('print') > -1) {
                window.print();
            }
        };
    </script>
</body>
</html>
